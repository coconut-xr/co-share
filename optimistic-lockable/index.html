<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><meta name="next-head-count" content="2"/><link rel="preload" href="/co-share/_next/static/css/66b14d175b7e2d8912c6.css" as="style"/><link rel="stylesheet" href="/co-share/_next/static/css/66b14d175b7e2d8912c6.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/co-share/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/co-share/_next/static/chunks/webpack-64fff0c80913622bceb8.js" defer=""></script><script src="/co-share/_next/static/chunks/framework-6b92d0e33fd20a40d6c0.js" defer=""></script><script src="/co-share/_next/static/chunks/main-5a9251ad2640b237a4ff.js" defer=""></script><script src="/co-share/_next/static/chunks/pages/_app-896c9c1ff1990e55da5d.js" defer=""></script><script src="/co-share/_next/static/chunks/667-a1a636bc44a79981c05c.js" defer=""></script><script src="/co-share/_next/static/chunks/377-946c8c2baa17028a050f.js" defer=""></script><script src="/co-share/_next/static/chunks/100-640a96ded2215625d10f.js" defer=""></script><script src="/co-share/_next/static/chunks/pages/optimistic-lockable-b551fe451d44ef1b43c4.js" defer=""></script><script src="/co-share/_next/static/IOMizTfl22p4TPSQiB3_2/_buildManifest.js" defer=""></script><script src="/co-share/_next/static/IOMizTfl22p4TPSQiB3_2/_ssgManifest.js" defer=""></script></head><body><div id="__next"><div class="d-flex flex-column fullscreen"><nav class="navbar navbar-expand-lg navbar-light bg-light"><div class="container-fluid"><a class="navbar-brand" href="/co-share/">co-share examples</a><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavDropdown" aria-controls="navbarNavDropdown" aria-expanded="false" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="align-self-flex-end navbar-collapse collapse"><ul class="navbar-nav"><li class="nav-item"><a class="nav-link " href="/co-share/counter/">Tutorial</a></li><li class="nav-item"><a class="nav-link " href="/co-share/request/">Request</a></li><li class="nav-item"><a class="nav-link " href="/co-share/message/">Message</a></li><li class="nav-item"><a class="nav-link " href="/co-share/lockable/">Lockable</a></li><li class="nav-item"><a class="nav-link active" href="/co-share/optimistic-lockable/">Optimistic Lockable</a></li><li class="nav-item"><a class="nav-link " href="/co-share/whiteboard/">Whiteboard</a></li><li class="nav-item"><a class="nav-link " href="/co-share/transformable/">Transformable</a></li></ul></div></div></nav><div class="d-flex flex-column justify-content-stretch container-lg"><div class="d-flex flex-row-responsive"></div><div class="p-3 flex-basis-0 flex-grow-1"><h1>Optimistic Lockable</h1><p><em>The Lock is requested as soon as the user tries to modify the slider.</em></p><p>Similar to the Lockable Example, we establish a Lock that only one client can obtain. However, the optimistic lock expects approval from the approver and grants the lock to the client before receiving approval. If the approver denies the request, all subsequent changes are revealed. Thus, the optimistic lockable optimizes the performance and allows for optimistic behavior and error correction.</p><p><strong>For demonstration purposes, there is a 50% chance of failing when requesting a lock.</strong>
<strong>However, as soon as one request fails, a new request will be sent.</strong>
<strong>Therefore, the experience is seamless.</strong></p><h1>Optimistic Lockable Example Source Code</h1><p><a href="https://github.com/cocoss-org/co-share/blob/master/examples/stores/optimistic-lockable.ts"><code>optimistic-lockable.ts</code></a></p><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">export</span> <span class="token keyword">class</span> <span class="token class-name"><span class="token maybe-class-name">OptimisticLockableStore</span></span> <span class="token keyword">extends</span> <span class="token class-name"><span class="token maybe-class-name">Store</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> state<span class="token operator">:</span> <span class="token maybe-class-name">StoreApi</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> owner<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span>
    <span class="token keyword">private</span> history<span class="token operator">:</span> <span class="token maybe-class-name">History</span><span class="token operator">&lt;</span><span class="token punctuation">{</span> value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span> owner<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span>

    <span class="token keyword">public</span> <span class="token function">onUnlink</span><span class="token punctuation">(</span>link<span class="token operator">:</span> <span class="token maybe-class-name">StoreLink</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token function">onLink</span><span class="token punctuation">(</span>link<span class="token operator">:</span> <span class="token maybe-class-name">StoreLink</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> subscriber<span class="token operator">:</span> <span class="token maybe-class-name">Subscriber</span><span class="token operator">&lt;</span><span class="token maybe-class-name">OptimisticLockableStore</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token builtin">number</span><span class="token punctuation">,</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token maybe-class-name">Subscriber</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span>
        <span class="token maybe-class-name">OptimisticLockableStore</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>connection<span class="token punctuation">,</span> accept<span class="token punctuation">,</span> deny<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> s <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token method function property-access">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token function">accept</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token property-access">value</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span><span class="token property-access">owner</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">)</span>

    <span class="token function">constructor</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> owner<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span> <span class="token operator">=</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token punctuation">,</span> owner <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">history</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">History</span></span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token method function property-access">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>presence<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">.</span><span class="token method function property-access">setState</span><span class="token punctuation">(</span>presence<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

    setSliderLock<span class="token operator">:</span> <span class="token maybe-class-name">Request</span><span class="token operator">&lt;</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token builtin">boolean</span><span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token maybe-class-name">Request</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;setSliderLock&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>origin<span class="token punctuation">,</span> owner<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>origin <span class="token operator">!=</span> <span class="token keyword null nil">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token known-class-name class-name">Math</span><span class="token punctuation">.</span><span class="token method function property-access">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0.5</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">history</span><span class="token punctuation">.</span><span class="token method function property-access">next</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
                    owner<span class="token punctuation">,</span>
                    value<span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">forceSliderLock</span><span class="token punctuation">.</span><span class="token method function property-access">publishTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> to<span class="token operator">:</span> <span class="token string">&quot;all-except-one&quot;</span><span class="token punctuation">,</span> except<span class="token operator">:</span> origin <span class="token punctuation">}</span><span class="token punctuation">,</span> owner<span class="token punctuation">)</span>
                <span class="token keyword control-flow">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword control-flow">return</span> <span class="token keyword">of</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword control-flow">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> resolve <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">history</span><span class="token punctuation">.</span><span class="token method function property-access">maybeNext</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> owner<span class="token punctuation">,</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token keyword control-flow">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">setSliderLock</span><span class="token punctuation">.</span><span class="token method function property-access">publishTo</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">mainLink</span><span class="token punctuation">,</span> owner<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">pipe</span><span class="token punctuation">(</span><span class="token function">tap</span><span class="token punctuation">(</span><span class="token punctuation">(</span>keep<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>keep<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">private</span> forceSliderLock <span class="token operator">=</span> <span class="token maybe-class-name">Action</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;forceSliderLock&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>origin<span class="token punctuation">,</span> owner<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">history</span><span class="token punctuation">.</span><span class="token method function property-access">next</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">{</span> value <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
            owner<span class="token punctuation">,</span>
            value<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    setSlider <span class="token operator">=</span> <span class="token maybe-class-name">Action</span><span class="token punctuation">.</span><span class="token method function property-access">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;setSlider&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>origin<span class="token punctuation">,</span> by<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">history</span><span class="token punctuation">.</span><span class="token method function property-access">next</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>state<span class="token punctuation">.</span><span class="token property-access">owner</span> <span class="token operator">!=</span> by<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword control-flow">return</span> state
            <span class="token punctuation">}</span>
            <span class="token keyword control-flow">return</span> <span class="token punctuation">{</span>
                owner<span class="token operator">:</span> state<span class="token punctuation">.</span><span class="token property-access">owner</span><span class="token punctuation">,</span>
                value<span class="token punctuation">,</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>

        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">history</span><span class="token punctuation">.</span><span class="token property-access">presence</span><span class="token punctuation">.</span><span class="token property-access">owner</span> <span class="token operator">!=</span> by<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword control-flow">return</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">setSlider</span><span class="token punctuation">.</span><span class="token method function property-access">publishTo</span><span class="token punctuation">(</span>origin <span class="token operator">==</span> <span class="token keyword null nil">null</span> <span class="token operator">?</span> <span class="token punctuation">{</span> to<span class="token operator">:</span> <span class="token string">&quot;all&quot;</span> <span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span> to<span class="token operator">:</span> <span class="token string">&quot;all-except-one&quot;</span><span class="token punctuation">,</span> except<span class="token operator">:</span> origin <span class="token punctuation">}</span><span class="token punctuation">,</span> by<span class="token punctuation">,</span> value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre><p><a href="https://github.com/cocoss-org/co-share/blob/master/examples/pages/optimistic-lockable.tsx"><code>optimistic-lockable.tsx</code></a></p><pre class="language-typescript"><code class="language-typescript"><span class="token keyword module">export</span> <span class="token keyword">function</span> <span class="token function"><span class="token maybe-class-name">OptimisticLockableExamplePage</span></span><span class="token punctuation">(</span><span class="token punctuation">{</span> rootStore <span class="token punctuation">}</span><span class="token operator">:</span> <span class="token punctuation">{</span> rootStore<span class="token operator">:</span> <span class="token maybe-class-name">RootStore</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token constant">JSX</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Element</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">useStoreSubscription</span><span class="token punctuation">(</span>
        <span class="token string">&quot;optimistic-lockable&quot;</span><span class="token punctuation">,</span>
        <span class="token number">1000</span><span class="token punctuation">,</span>
        <span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">,</span> owner<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token maybe-class-name">OptimisticLockableStore</span></span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> owner<span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token keyword nil">undefined</span><span class="token punctuation">,</span>
        rootStore
    <span class="token punctuation">)</span>

    <span class="token keyword">const</span> id <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> rootStore<span class="token punctuation">.</span><span class="token property-access">mainLink</span><span class="token punctuation">.</span><span class="token property-access">connection</span><span class="token punctuation">.</span><span class="token property-access">userData</span><span class="token punctuation">.</span><span class="token property-access">id</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>rootStore<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> inputRef <span class="token operator">=</span> <span class="token generic-function"><span class="token function">useRef</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token maybe-class-name">HTMLInputElement</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token keyword null nil">null</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> useStoreState <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span>
        <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span>
            <span class="token generic-function"><span class="token function">create</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token punctuation">{</span>
                value<span class="token operator">:</span> <span class="token builtin">number</span>
                owner<span class="token operator">:</span> <span class="token builtin">string</span>
            <span class="token punctuation">}</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span>store<span class="token punctuation">.</span><span class="token property-access">state</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token punctuation">[</span>store<span class="token punctuation">]</span>
    <span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token punctuation">{</span> owner<span class="token punctuation">,</span> value <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useStoreState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token keyword control-flow">return</span> <span class="token punctuation">(</span>
        <span class="token operator">&lt;</span>div className<span class="token operator">=</span><span class="token string">&quot;p-3&quot;</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>button className<span class="token operator">=</span><span class="token string">&quot;btn btn-outline-primary&quot;</span> onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> store<span class="token punctuation">.</span><span class="token method function property-access">setSliderLock</span><span class="token punctuation">(</span><span class="token string">&quot;none&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                release
            <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>h2<span class="token operator">&gt;</span><span class="token maybe-class-name">Owner</span><span class="token operator">:</span> <span class="token punctuation">{</span>owner<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>h2<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>input
                onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>inputRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword control-flow">if</span> <span class="token punctuation">(</span>owner <span class="token operator">!==</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                            store<span class="token punctuation">.</span><span class="token method function property-access">setSliderLock</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token method function property-access">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token punctuation">}</span>
                        store<span class="token punctuation">.</span><span class="token method function property-access">setSlider</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> inputRef<span class="token punctuation">.</span><span class="token property-access">current</span><span class="token punctuation">.</span><span class="token property-access">valueAsNumber</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">}</span>
                className<span class="token operator">=</span><span class="token string">&quot;w-100&quot;</span>
                type<span class="token operator">=</span><span class="token string">&quot;range&quot;</span>
                min<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">0</span><span class="token punctuation">}</span>
                max<span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">10</span><span class="token punctuation">}</span>
                value<span class="token operator">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span>
                ref<span class="token operator">=</span><span class="token punctuation">{</span>inputRef<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>input<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></div><div class="flex-grow-1"></div><footer class="bg-light"><div class="d-flex align-items-center justify-content-around p-3 container-lg"><a target="_blank" href="https://github.com/cocoss-org/co-share" class="mx-2 text-black d-flex flex-row align-items-center"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-github mx-2" viewBox="0 0 16 16"><path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.012 8.012 0 0 0 16 8c0-4.42-3.58-8-8-8z"></path></svg><span class="h5 mb-0">Github</span></a><a class="d-flex mx-2" target="_blank" href="https://www.coconut-xr.com/"><div style="overflow:hidden;box-sizing:border-box;display:inline-block;position:relative;width:170px;height:40px"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%"/><noscript><img srcSet="/co-share/powered-by.svg 1x, /co-share/powered-by.svg 2x" src="/co-share/powered-by.svg" decoding="async" data-nimg="fixed" style="position:absolute;top:0;left:0;bottom:0;right:0;box-sizing:border-box;padding:0;border:none;margin:auto;display:block;width:0;height:0;min-width:100%;max-width:100%;min-height:100%;max-height:100%" loading="lazy"/></noscript></div></a></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{}},"page":"/optimistic-lockable","query":{},"buildId":"IOMizTfl22p4TPSQiB3_2","assetPrefix":"/co-share","nextExport":true,"autoExport":true,"isFallback":false,"scriptLoader":[]}</script></body></html>